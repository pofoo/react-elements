// dependencies
@use 'sass:map';
// constants
@use '../constants/colors' as *;
// utils
@use '../utils/states' as *;

/*--------------------------------------------------------------
# Variables
--------------------------------------------------------------*/
$modal--padding:                    2rem;

$modal-x--size:                     1.7rem;

/*--------------------------------------------------------------
# Styling
--------------------------------------------------------------*/
.modal-container {
    visibility: hidden;

    &.active {
        visibility: visible;

        .backdrop {
            opacity: 0.4;
        }
    }
    
    .modal-wrapper {
        display: block;
        position: absolute;
        z-index: 5;
        // position modal center horizontally, a little higher vertically
        left: 50%;
        top: 50%;
        transform: translate( -50%, -90% );
        padding: $modal--padding;
    
        background: #fff;
        box-shadow: 0 3px 3px map.get( $shadow, 'gray' );
        
        .x-close {
            position: absolute;
            top: 0.7rem;
            right: 0.9rem;
            font-size: $modal-x--size;

            // background on hover and focus
            &:before {
                content: "";
                position: absolute;
                width: 100%;
                height: 100%;
                right: 0rem;
                background: map.get( $colors, 'yellow', 2 );
                mix-blend-mode: multiply;
                border-radius: 100%;
                
                opacity: 0;
                transform: scale( 0.65 );

                $transition: 0.22s ease;
                transition: opacity $transition, transform $transition;
            }
    
            @include hover {
                &:before {
                    opacity: 1;
                    transform: scale( 1 );
                }
            }
        }
    }

    .backdrop {
        position: absolute;
        display: block;  
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        opacity: 0;
        transition: opacity 0.25s ease-out;

        background: map.get( $colors, 'brand-blue', 1 );
        mix-blend-mode: hard-light;
    }
}